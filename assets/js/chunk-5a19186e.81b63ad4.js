(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5a19186e"],{"086d":function(e,t,n){},"46a1":function(e,t,n){},b679:function(e,t,n){"use strict";n.r(t),n("99af"),n("b0c0"),n("a9e3");var o=n("2909"),a=(n("96cf"),n("1da1")),s=n("0bc4"),r=n("36e7"),i=n("cf45"),c={name:"Model",props:{maxVal:[Number,String],price:[Number,String],index:[Number,String],visable:Boolean,onOk:Function,onCanel:Function,onClose:Function},data:function(){return{val:"",total:0,pool_quota:0,status:1,contracts:r.a,skeletonLoading:!0,sendLoading:!1}},computed:{disable:function(){return Number(this.val)>Number(this.maxVal)||this.val<=0||this.sendLoading},account:function(){return this.$store.state.account},chainId:function(){return this.$store.state.chainId}},watch:{visable:function(){1==this.visable&&""!==this.account&&(this.val="",this.getBalance())},account:function(e){e?"128"!=this.chainId&&"128"!=this.chainId||(this.val="",this.getBalance()):this.skeletonLoading=!0},chainId:function(e){"128"==e||"128"==e?this.account&&(this.val="",this.getBalance()):this.skeletonLoading=!0}},mounted:function(){var e=localStorage.setItem;localStorage.setItem=function(t,n){var o=new Event("setItemEvent");o.newValue=n,window.dispatchEvent(o),e.apply(this,arguments)}},methods:{getBalance:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.contracts.MoonFund,n=new s.a(a.abi,a.address,a.name),t.next=5,web3js.eth.getBalance(e.account);case 5:return o=t.sent,t.next=8,n.call("pendingOfETH",e.index,{from:e.account});case 8:a=t.sent,e.total=Number(web3js.utils.fromWei(o,"ether")),e.pool_quota=Number(web3js.utils.fromWei(a,"ether")),e.skeletonLoading=!1,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),e.skeletonLoading=!0,e.$message({duration:5e3,type:"error",customClass:"custom-message",message:t.t0.reason||t.t0});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},deposit:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var o,a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.contracts.MoonFund,o=web3js.utils.toWei(String(t.val),"ether"),a=new s.a(r.abi,r.address,r.name),r={from:t.account,value:o},n.abrupt("return",a.send("deposit",[t.index,o],r,(function(t,n){t||e(n)})));case 6:case"end":return n.stop()}}),n)})))()},confirm:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0==e.status)return t.abrupt("return",e.approve());t.next=2;break;case 2:return e.sendLoading=!0,t.next=5,Object(i.a)(e.deposit);case 5:t.sent&&(n={},a={},s=[{val:e.val,time:(new Date).Format("yyyy-MM-dd hh:mm:ss")}],a[e.account.toLowerCase()]=s,r=localStorage.getItem("fundraisingData"),(r=r?JSON.parse(r):{})&&void 0!==r[e.index]&&r[e.index]?((r=r[e.index])[e.account.toLowerCase()]=[].concat(Object(o.a)(r[e.account.toLowerCase()]),s),n[e.index]=r):n[e.index]=a,localStorage.setItem("fundraisingData",JSON.stringify(n)),e.$emit("addTable"),e.$emit("changeMax",Number(e.maxVal)-Number(e.val)),e.total=Number(e.total)-Number(e.val),e.val=""),e.sendLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.sendLoading=!0,t.next=3,Object(i.a)(e.approveFn);case 3:t.sent&&(e.status=0),e.sendLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},approveFn:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var o,a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=web3js.utils.toWei("1000000000000000000","ether"),r=t.contracts[t.tokenName],a=t.contracts["i".concat(t.tokenName)],r=new s.a(r.abi,r.address,r.name),n.abrupt("return",r.approve(a.address,o,{from:t.account},(function(t,n){t||e(n)})));case 5:case"end":return n.stop()}}),n)})))()},allowance:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BNB"!=e.tokenName||"Deposit"!=e.type){t.next=3;break}if(e.account)return t.abrupt("return",!0);t.next=3;break;case 3:return n=e.contracts[e.tokenName],o=e.contracts["i".concat(e.tokenName)],t.prev=5,n=new s.a(n.abi,n.address,n.name),t.next=9,n.allowance(e.account,o.address,(function(e,t){return e?0:web3js.utils.fromWei(t,"ether")}));case 9:return o=t.sent,t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(5),e.$message({duration:5e3,type:"error",customClass:"custom-message",message:t.t0.reason||t.t0});case 16:case"end":return t.stop()}}),t,null,[[5,13]])})))()},checkAllowance:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.allowance();case 2:n=t.sent,e.status=0!=n&&n?1:0;case 4:case"end":return t.stop()}}),t)})))()},canel:function(){this.val="",this.onCanel&&this.onCanel()},handleClose:function(){this.val="",this.onClose&&this.onClose()},ok:function(){this.val="",this.onOk&&this.onOk()},changeVal:function(e){Number(e)>Number(this.maxVal)?this.val=this.maxVal:this.val=e},changMax:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.maxVal<=e.pool_quota?e.val=e.maxVal:e.val=e.pool_quota;case 1:case"end":return t.stop()}}),t)})))()},formatTimeStamp:function(e){var t=parseInt(e/36e5),n=(n=parseInt(e%36e5/6e4))<10?"0"+n:n;e=(e=parseInt(e%6e4/1e3))<10?"0"+e:e;return"".concat(t=t<10?"0"+t:t,":").concat(n,":").concat(e)}}};n("c2bb"),n=n("2877"),c=Object(n.a)(c,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("el-dialog",{class:["custom-dialog"],attrs:{visible:e.visable,"destroy-on-close":!0,top:"20vh",width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.visable=t}}},[[t("span",{attrs:{slot:"title"},slot:"title"},[t("h3",{staticClass:"title"},[e._v("Depoist BNB to get FORK")])]),t("van-skeleton",{staticClass:"m-skeleton",attrs:{row:3,loading:""==e.account||e.skeletonLoading}},[t("p",{staticClass:"over"},[e._v(" You have "+e._s(0==e.maxVal?0:Number(e.total).toFixed(3))+" BNB Availbe, can also deposit "+e._s(Number(e.maxVal).toFixed(2))+" BNB ")]),t("el-input",{staticClass:"input",attrs:{placeholder:"please input amount",value:e.val,type:"number"},on:{input:e.changeVal},nativeOn:{mousewheel:function(e){e.preventDefault()}}},[t("el-button",{staticClass:"max",attrs:{slot:"suffix",type:"primary",size:"small"},on:{click:e.changMax},slot:"suffix"},[e._v("Max")])],1),t("p",{directives:[{name:"show",rawName:"v-show",value:e.val,expression:"val"}],staticClass:"over margin-t-10"},[e._v(" you will receive "+e._s((Number(e.val)*this.price).toFixed(4))+" Fork Availbe ")])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{round:"",size:"medium"},on:{click:e.canel}},[e._v("cancle")]),t("el-button",{attrs:{type:"primary",round:"",size:"medium",disabled:e.disable},on:{click:e.confirm}},[e._v("confirm")])],1)]],2)}),[],!1,null,"42b81e93",null);t.default=c.exports},c196:function(e,t,n){},c2bb:function(e,t,n){"use strict";n("086d")},cf45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));t=n("99af"),t=n("46a1"),t=n("450d"),t=n("e5f2");var o=n.n(t),a=(t=n("0fb7"),t=n("f529"),n.n(t)),s=(t=n("96cf"),n("1da1")),r=(t=n("c196"),{128:"https://http-mainnet-node.huobichain.com",97:"https://testnet.bscscan.com"}),i=function(){var e=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,s,i,c,u,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a()({duration:0,iconClass:"loading-icon animate-loading",customClass:"custom-message",dangerouslyUseHTMLString:!0,message:"<p><span>Making transaction... </span></p>"}),s="",e.prev=2,i=f.length,c=new Array(1<i?i-1:0),u=1;u<i;u++)c[u-1]=f[u];return e.next=6,t.apply(void 0,[function(e){n.close(),s=a()({duration:0,iconClass:"loading-icon animate-loading",customClass:"custom-message",dangerouslyUseHTMLString:!0,message:"<span>Transaction has been sent and confirmation is in progress.Check your transaction on heco "+'<a class="green" target="_blank" href="'.concat(r[128],"/tx/").concat(e,'">here</a>.</span>')})}].concat(c));case 6:if(l=e.sent)return s.close(),o()({title:"Success Transtion",dangerouslyUseHTMLString:!0,message:'<a target="_blank" class="green notify-a"  target="_blank" href="'.concat(r[128],"/tx/").concat(l.transactionHash,'">View on Heco</a>'),type:"success",duration:1e4}),e.abrupt("return",l);e.next=11;break;case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(2),n.close(),a()({duration:5e3,type:"error",customClass:"custom-message",message:e.t0.reason||e.t0.message||e.t0}),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},e5f2:function(e,t,n){function o(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var a,s;e.exports=(s={},o.m=a={0:function(e,t,n){"use strict";function o(e,t,n,o,a,s,r,i){var c,u,l="function"==typeof e?e.options:e;return t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?l._ssrRegister=c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)}:a&&(c=i?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c&&(l.functional?(l._injectStyles=c,u=l.render,l.render=function(e,t){return c.call(t),u(e,t)}):(i=l.beforeCreate,l.beforeCreate=i?[].concat(i,c):[c])),{exports:e,options:l}}n.d(t,"a",(function(){return o}))},15:function(e,t){e.exports=n("5128")},23:function(e,t){e.exports=n("41f8")},7:function(e,t){e.exports=n("2b0e")},70:function(e,t,n){"use strict";n.r(t);var o=n(7),a=n.n(o),s=function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("transition",{attrs:{name:"el-notification-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(t){e.clearTimer()},mouseleave:function(t){e.startTimer()},click:e.click}},[e.type||e.iconClass?t("i",{staticClass:"el-notification__icon",class:[e.typeClass,e.iconClass]}):e._e(),t("div",{staticClass:"el-notification__group",class:{"is-with-icon":e.typeClass||e.iconClass}},[t("h2",{staticClass:"el-notification__title",domProps:{textContent:e._s(e.title)}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}],staticClass:"el-notification__content"},[e._t("default",[e.dangerouslyUseHTMLString?t("p",{domProps:{innerHTML:e._s(e.message)}}):t("p",[e._v(e._s(e.message))])])],2),e.showClose?t("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()])])])};s._withStripped=!0;var r={success:"success",info:"info",warning:"warning",error:"error"},i={data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&r[this.type]?"el-icon-"+r[this.type]:""},horizontalClass:function(){return-1<this.position.indexOf("right")?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var e={};return e[this.verticalProperty]=this.verticalOffset+"px",e}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){46===e.keyCode||8===e.keyCode?this.clearTimer():27===e.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}};o=n(0),i=Object(o.a)(i,s,[],!1,null,null,null);function c(e){if(!a.a.prototype.$isServer){var t=(e=u()({},e)).onClose,n="notification_"+h++,o=e.position||"top-right";e.onClose=function(){c.close(n,t)},p=new d({data:e}),Object(f.isVNode)(e.message)&&(p.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),p.id=n,p.$mount(),document.body.appendChild(p.$el),p.visible=!0,p.dom=p.$el,p.dom.style.zIndex=l.PopupManager.nextZIndex();var s=e.offset||0;return m.filter((function(e){return e.position===o})).forEach((function(e){s+=e.$el.offsetHeight+16})),p.verticalOffset=s+=16,m.push(p),p}}i.options.__file="packages/notification/src/main.vue";s=i.exports,i=n(9);var u=n.n(i),l=n(15),f=n(23),d=a.a.extend(s),p=void 0,m=[],h=1;["success","warning","info","error"].forEach((function(e){c[e]=function(t){return(t="string"==typeof t||Object(f.isVNode)(t)?{message:t}:t).type=e,c(t)}})),c.close=function(e,t){var n=-1,o=m.length,a=m.filter((function(t,o){return t.id===e&&(n=o,!0)}))[0];if(a&&("function"==typeof t&&t(a),m.splice(n,1),!(o<=1)))for(var s=a.position,r=a.dom.offsetHeight,i=n;i<o-1;i++)m[i].position===s&&(m[i].dom.style[a.verticalProperty]=parseInt(m[i].dom.style[a.verticalProperty],10)-r-16+"px")},c.closeAll=function(){for(var e=m.length-1;0<=e;e--)m[e].close()},t.default=c},9:function(e,t){e.exports=n("7f4d")}},o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o(o.s=70))}}]);